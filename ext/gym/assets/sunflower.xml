<mujoco>
    <compiler inertiafromgeom='true' angle='degree'/>

    <option timestep='0.002' iterations="50" solver="PGS">
        <flag energy="enable"/>
    </option>

    <default>
        <site type="sphere" rgba=".9 0 0 .5" size="0.05"/>
    </default>

    <!-- materials etc. -->
    <asset>
        <texture name="texplane" type="2d" builtin="checker" rgb1=".2 .9 .4" rgb2=".1 0.7 0.2" width="100"
                 height="100"/>
        <material name='MatPlane' reflectance='0.015' texture="texplane" texrepeat="1 1" texuniform="true"/>
    </asset>

    <visual>
        <quality shadowsize="2048"/>
    </visual>

    <!-- world -->
    <worldbody>
        <!-- sun -->
        <light diffuse=".5 .5 .5" pos="0 30 30" dir="0 -1 -1"/>

        <!-- ground -->
        <geom name='floor' pos='0 0 0' size='10 10 0.125' type='plane' material="MatPlane" condim='3'/>

        <!-- sunflower -->
        <body name='creature' pos='0 0 1'>
            <joint name='root' type='free'/>
            <geom name='foot' type='cylinder' fromto='0 0 0  0 0 .15' size='1.0' rgba="0.5 .5 0 1"/>

            <body name='stem' pos='0 0 0.25'>
                <joint type='hinge' axis='1 0 0' limited='true' range=' -50  50' damping='5' stiffness='10' armature='0.01'/>
                <joint type='hinge' axis='0 1 0' limited='true' range=' -50  50' damping='5' stiffness='10' armature='0.01'/>
                <joint type='hinge' axis='0 0 1' limited='true' range='-250 250' damping='5' stiffness='10' armature='0.01'/>
                <geom type='cylinder' fromto='0 0 0  0.0 0.0 1.9' size='.1' rgba="0.2 .9 0 1"/>
                <body name='head' pos='0 0 2.'>
                    <joint type='hinge' axis='1 0 0' limited='true' range=' -50  50' damping='5' stiffness='10' armature='0.01'/>
                    <joint type='hinge' axis='0 1 0' limited='true' range=' -50  50' damping='5' stiffness='10' armature='0.01'/>
                    <joint type='hinge' axis='0 0 1' limited='true' range='-250 250' damping='5' stiffness='10' armature='0.01'/>
                    <geom name='head' type='cylinder' fromto='0. 0. 0.  0. .0 0.1' size='0.7' rgba="0.9 .9 0 1"/>
                    <site name="s1h" pos=" 0    0.65 -0.0"/>
                    <site name="s2h" pos=" 0   -0.65 -0.0"/>
                    <site name="s3h" pos=" 0.65    0 -0.0"/>
                    <site name="s4h" pos="-0.65    0 -0.0"/>
                </body>
            </body>

            <body name='m1' pos='0 0.95 0.5'>
                <joint type="slide" pos="0 0 0" axis="0 0 -1" limited="true" range="0 0.5" />
                <geom type="box" size=".1 .01 .3" rgba=".5 .5 2. 1"/>
                <site name="s1f" pos="0 0 0.3"/>
            </body>

            <body name='m2' pos='0 -0.95 0.5'>
                <joint type="slide" pos="0 0 0" axis="0 0 -1" limited="true" range="0 0.5" />
                <geom type="box" size=".1 .01 .3" rgba=".5 .5 2. 1"/>
                <site name="s2f" pos="0 0 0.3"/>
            </body>

            <body name='m3' pos='0.95 0 0.5'>
                <joint type="slide" pos="0 0 0" axis="0 0 -1" limited="true" range="0 0.5" />
                <geom type="box" size=".01 .1 .3" rgba=".5 .5 2. 1"/>
                <site name="s3f" pos="0 0 0.3"/>
            </body>

            <body name='m4' pos='-0.95 0 0.5'>
                <joint type="slide" pos="0 0 0" axis="0 0 -1" limited="true" range="0 0.5" />
                <geom type="box" size=".01 .1 .3" rgba=".5 .5 2. 1"/>
                <site name="s4f" pos="0 0 0.3"/>
            </body>

        </body>
    </worldbody>

    <tendon>
        <spatial name="t1" width="0.02" rgba=".9 .9 .9 1" limited="true" range="0 1.5">
            <site site="s1f"/>
            <site site="s1h"/>
        </spatial>
        <spatial name="t2" width="0.02" rgba=".9 .9 .9 1" limited="true" range="0 1.5">
            <site site="s2f"/>
            <site site="s2h"/>
        </spatial>
        <spatial name="t3" width="0.02" rgba=".9 .9 .9 1" limited="true" range="0 1.5">
            <site site="s3f"/>
            <site site="s3h"/>
        </spatial>
        <spatial name="t4" width="0.02" rgba=".9 .9 .9 1" limited="true" range="0 1.5">
            <site site="s4f"/>
            <site site="s4h"/>
        </spatial>
    </tendon>

</mujoco>
